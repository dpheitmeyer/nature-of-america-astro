---
import Layout from "../layouts/Layout.astro";
import { generateWidths } from "@/utils/imageWidths.js";
import { type CollectionEntry, getCollection, render } from "astro:content";

const panes = (await getCollection("panes")).sort(
  (a, b) => a.data.year - b.data.year
);
console.log(generateWidths(600, 400));
---

<Layout pageTitle="Stamp Panes in Nature of America Series">
  <div class="panes">
    {
      panes.map((p) => {
        return (
          <a href={`/panes/${p.id}/`}>
            <div class="pane">
              <img src={`/images/panes/sn${p.data.sn}.png`} />
              <div class="title">{p.data.title}</div>
               <div class="place">{p.data.place}</div>
                            <div class="year">{p.data.year}</div>

            </div>
          </a>
        );
      })
    }
  </div>
</Layout>
<style>
  .pane img { margin-block-end: 0.5rem;}
  .panes {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  }
  .pane {
    border: thin solid gray;
    padding: 0.5rem;
  }
  .panes a {
    &:link,
    &:visited,
    &:hover,
    &:active {
      color: black;
      text-decoration: none;
    }
  }
  .title { font-weight: bold;}
</style>
