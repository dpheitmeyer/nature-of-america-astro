---
import Layout from "../layouts/Layout.astro";
import { generateWidths } from "@/utils/imageWidths.js";
import { type CollectionEntry, getCollection, render } from "astro:content";

const panes = (await getCollection("panes")).sort(
  (a, b) => a.data.year - b.data.year
);
---

<Layout pageTitle="Stamp Panes in Nature of America Series">
  <div class="panes">
    {
      panes.map((p) => {
        return (
          <a href={`/panes/${p.id}/`}>
            <div class="pane">
              <img src={`/images/panes/sn${p.data.sn}.png`} /><!-- add alt attribute -->
<!-- todo: shoudl this be an hx? -->              <div class="title">{p.data.title}</div>
              <div class="place">{p.data.place}</div>
              <div class="year">{p.data.year}</div>
            </div>
          </a>
        );
      })
    }
  </div>
</Layout>
<style>
  .pane img {
    margin-block-end: 0.5rem;
  }
  .panes {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  }
  .pane {
    display: grid;
    grid-template-columns: 3fr 1fr;
    grid-template-areas:
      "img    img"
      "title  title"
      "place  year";
    border: thin solid gray;
    padding: 0.5rem;
  }
  .pane img {
    grid-area: img;
  }
  .pane .title {
    grid-area: title;
  }
  .pane .place {
    grid-area: place;
  }
  .pane .year {
    grid-area: year;
    justify-self: end;
  }
  .panes a {
    &:link,
    &:visited,
    &:hover,
    &:active {
      color: black;
      text-decoration: none;
    }
  }
  .title {
    font-weight: bold;
  }
</style>
